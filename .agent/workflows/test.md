---
description: This workflow enforces the comprehensive testing protocol. It guides the Agent through login, core CRUD operations, and financial calculation verification, ensuring every UI element and micro-feature (buttons, inputs, margins, rounding) functions cor
---

Act as a Quality Assurance (QA) Automation Engineer. Your primary goal is to perform a full, systematic regression test on JugnooCRM. You must use the live application URL (from streamlit run app.py) and only refresh the browser tab for updates. Do not terminate the application until the user instructs you to.1. Pre-Test Initialization (Mandatory)Preparation: Verify the application is running and the URL is accessible in the browser tab.State Check: Verify the application is currently on the Login Screen.2. Login and Core Authentication TestTest Case (TC-AUTH-01): Successful LoginInput Username: JaspreetInput Password: (The correct, current plain-text password for Jaspreet)Click the Login button.Verification: Assert that the UI transitions from the Login Screen to the Dashboard (Tab 1) and displays "üë§ Logged in as: Jaspreet".Test Case (TC-AUTH-02): Logout FunctionalityClick the Log Out button in the top bar.Verification: Assert that the UI reverts to the Login Screen. Re-execute TC-AUTH-01 to log back in for subsequent testing.3. Tab 1: Dashboard and Client Management TestsTest Case (TC-DASH-01): Client FilteringClick the All radio button. Verification: Assert that the dataframe shows all clients.Click the Active radio button. Verification: Assert that only clients with status not in INACTIVE_STATUSES are displayed.Click the Inactive radio button. Verification: Assert that only clients with status in INACTIVE_STATUSES are displayed.Test Case (TC-DASH-02): Status UpdateOpen the "üõ†Ô∏è Manage Client" expander.Select an Active Client from the dropdown.Locate the Status selectbox and change the status to "Closed".Verification: Assert that the "üí∞ Record Payment Received" form appears below the status box.Click Update Status. Verification: Assert that a success message appears and the UI reruns.Test Case (TC-DASH-03): Payment RecordingRe-select the client from TC-DASH-02.In the "üí∞ Record Payment Received" section, change the "Amount Received (‚Çπ)" input value (e.g., set it to 100 less than the default).Click the üíæ Save Changes button for the payment form.Verification: Assert that a success toast ("Saved!") appears.4. Tab 3: Estimator Engine Tests (Core Logic)Test Case (TC-EST-01): Custom Margin OverridesNavigate to Tab 3: Estimator. Select a client.Check the "üõ†Ô∏è Use Custom Margins" checkbox.Adjust all three sliders (Part %, Labor %, Extra %) to non-default values (e.g., 50%, 50%, 50%).Verification: Assert that the Grand Total metric changes immediately to reflect the increased margins.Test Case (TC-EST-02): Unit Conversion and Stock WarningUse the "Add Items" form. Select a standard item (e.g., "Wire").Input a Qty of 1000.Click ‚¨áÔ∏è Add. Verification: Assert that a "‚ö†Ô∏è Low Stock Warning" appears (as stock is usually low).Manually add a row to the data editor (if possible) and set the Unit to 'cm' and the Qty to 500.Verification: Assert that the Total Price calculation is correct after applying the cm conversion factor (0.01).Test Case (TC-EST-03): Rounding and Advance CalculationEnsure the estimate contains items that result in a raw grand total not ending in 0 or 100 (e.g., ‚Çπ5,678).Verification 1 (Rounding): Assert that the Grand Total metric displays the value rounded UP to the nearest 100 (e.g., ‚Çπ5,700).Verification 2 (Advance): Assert that the Advance Required metric displays a value rounded UP to the nearest 100 based on the $\text{Base Cost} + 10\%$ Profit formula.5. Tab 4: Settings & Inventory CRUD TestsTest Case (TC-INV-01): Global Setting UpdateNavigate to Tab 4: Settings.Change the Daily Labor (‚Çπ) input (e.g., from 1000 to 1200).Click Update Settings.Verification: Assert that a success message appears, and the app reruns (re-loads). Go back to Tab 3 and assert the new labor cost is reflected in the metrics.Test Case (TC-INV-02): Inventory Data EditorLocate the Inventory Data Editor.Select an existing item and manually update its Stock Quantity (e.g., change 50 to 75).Click üíæ Save Inventory Changes.Verification: Assert that a success message appears and the change persists after refresh.6. Final StepsTest Complete: State that the regression test is complete.Standby: Wait for the user's explicit instruction to terminate the Streamlit application.